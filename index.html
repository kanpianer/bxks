<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <title>不想看书</title>

  <!-- Favicon -->
  <link rel="icon" href="https://hub.gitmirror.com/https://raw.githubusercontent.com/kanpianer/bxks/refs/heads/main/favicon.svg" type="image/svg+xml" />

  <!-- Fonts (with performance hints and fallbacks) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Damion&family=Zhi+Mang+Xing&display=swap" rel="stylesheet">

  <style>
    /* Base: readable system stack with Chinese serif fallback */
    :root {
      /* Typographic scale tuned for device width */
      --font-size-h1: clamp(2.4rem, 5vw, 3.6rem);
      --font-size-slogan: clamp(1.85rem, 3.6vw, 2.6rem);
      --font-size-btn: clamp(1rem, 2.4vw, 1.4rem);
      --line-height-slogan: 1.4;
      --content-max-width: min(72ch, 92vw);
      --content-gap: clamp(16px, 3.5vw, 28px);
      --bg: #000;
      --fg: #fff;
      --btn-bg: #222;
      --btn-bg-hover: #555;
      --btn-fg: #fff;
      --tooltip-bg: #222;
      --tooltip-fg: #fff;
      --focus-ring: 2px solid #7aa2ff; /* accessible focus */
    }

    /* Respect prefers-color-scheme if you later add light variant; currently dark-focused */
    @media (prefers-color-scheme: light) {
      :root {
        --bg: #0f1113;
        --fg: #f6f7f9;
        --btn-bg: #1c1f22;
        --btn-bg-hover: #3a3f44;
        --tooltip-bg: #1c1f22;
        --tooltip-fg: #f6f7f9;
      }
    }

    /* Improve font rendering across clients */
    html {
      -webkit-text-size-adjust: 100%;
      text-rendering: optimizeLegibility;
    }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      color: var(--fg);
      background: var(--bg);
      font-family:
        "Noto Serif SC",
        ui-serif, Georgia, "Songti SC", "STSong", "Source Han Serif SC", "PingFang SC",
        "Microsoft YaHei", "Segoe UI", system-ui, serif;
      text-align: center;
      overflow: hidden;
    }

    /* Centered content column for readable line length */
    .content {
      position: relative;
      z-index: 1; /* above canvas */
      max-width: var(--content-max-width);
      padding: clamp(16px, 4vw, 32px);
      margin-inline: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--content-gap);
    }

    h1 {
      font-family: 'Zhi Mang Xing', cursive;
      font-weight: 400;
      font-size: var(--font-size-h1);
      line-height: 1.15;
      margin: 0;
      letter-spacing: 0.02em;
    }

    .slogan {
      font-size: var(--font-size-slogan);
      line-height: var(--line-height-slogan);
      margin: 0;
      opacity: 0.92;
    }
    .slogan div {
      font-family: 'Zhi Mang Xing', cursive;
      margin-bottom: 0.5em;
    }
    .slogan div:first-child {
      font-family: 'Damion', serif;
    }

    /* Button: fixed padding and accessible focus */
    .btn {
      padding: em 1.1em;
      font-size: var(--font-size-btn);
      font-family: 'Damion', serif;
      background-color: var(--btn-bg);
      color: var(--btn-fg);
      border: none;
      border-radius: 999px;
      cursor: pointer;
      transition: background-color 0.25s ease, transform 0.08s ease;
      position: relative;
      outline: none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:hover {
      background-color: var(--btn-bg-hover);
    }
    .btn:active {
      transform: translateY(1px);
    }
    .btn:focus-visible {
      outline: var(--focus-ring);
      outline-offset: 3px;
    }

    /* Tooltip: visible on hover and keyboard focus */
    .btn:hover::after,
    .btn:focus-visible::after {
      content: "https://zh.fin101.ru/";
      position: absolute;
      top: 120%;
      left: 50%;
      transform: translateX(-50%);
      background: var(--tooltip-bg);
      color: var(--tooltip-fg);
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 0.9em;
      white-space: nowrap;
      box-shadow: 0 6px 16px rgba(0,0,0,0.35);
    }

    /* Canvas background (stars) */
    canvas {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      background: var(--bg);
      display: block;
    }

    /* Reduce motion for comfort */
    @media (prefers-reduced-motion: reduce) {
      canvas { display: none; }
      body { overflow: auto; }
    }

    /* Small devices: ease spacing slightly */
    @media (max-width: 380px) {
      :root {
        --content-gap: 18px;
      }
      .slogan { line-height: 1.5; }
    }

    /* Large screens: constrain line length and avoid huge type */
    @media (min-width: 1440px) {
      :root {
        --content-max-width: 68ch;
      }
    }
  </style>
</head>
<body>
  <canvas id="stars" aria-hidden="true"></canvas>

  <main class="content">
    <h1>不想看书</h1>

    <div class="slogan" role="group" aria-label="网站标语（中英文）">
      <div>Your gateway to knowledge and culture<br>Accessible for everyone</div>
      <div>您通往知识和文化的门户<br>每个人都可以使用</div>
    </div>

    <button
      class="btn"
      type="button"
      aria-label="打开 Z-Library 中文站点（新窗口）"
      title="https://zh.fin101.ru/"
      onclick="window.open('https://zh.fin101.ru/', '_blank', 'noopener,noreferrer')"
    >
      Z-Library
    </button>
  </main>

  <script>
    (function () {
      const prefersReducedMotion = window.matchMedia &&
        window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      const canvas = document.getElementById('stars');
      if (!canvas || prefersReducedMotion) return;

      const ctx = canvas.getContext('2d', { alpha: true });
      let width = window.innerWidth;
      let height = window.innerHeight;
      let dpr = Math.max(1, Math.min(window.devicePixelRatio || 1, 2)); // cap DPR for perf

      // Size canvas for DPR to keep stars crisp across clients
      function sizeCanvas() {
        width = window.innerWidth;
        height = window.innerHeight;
        dpr = Math.max(1, Math.min(window.devicePixelRatio || 1, 2));
        canvas.width = Math.floor(width * dpr);
        canvas.height = Math.floor(height * dpr);
        canvas.style.width = width + 'px';
        canvas.style.height = height + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }
      sizeCanvas();

      // Stars: scale count by area but cap for low-end devices
      const baseDensity = 0.08; // stars per 1000px^2
      function computeStarCount() {
        const areaK = (width * height) / 1000;
        const target = Math.min(450, Math.max(180, Math.floor(areaK * baseDensity)));
        return target;
      }

      let stars = [];
      function initStars() {
        stars.length = 0;
        const numStars = computeStarCount();
        for (let i = 0; i < numStars; i++) {
          const angle = Math.random() * Math.PI * 2;
          const speed = 0.4 + Math.random() * 1.8;
          stars.push({
            x: width / 2,
            y: height / 2,
            radius: Math.random() * 1.3 + 0.5,
            alpha: 0.5 + Math.random() * 0.5,
            angle,
            speed,
            distance: 0
          });
        }
      }
      initStars();

      function drawStars() {
        ctx.clearRect(0, 0, width, height);
        for (let i = 0; i < stars.length; i++) {
          const star = stars[i];
          ctx.beginPath();
          ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
          ctx.fillStyle = 'rgba(255,255,255,' + star.alpha + ')';
          ctx.fill();
        }
      }

      function scatterEffect() {
        for (let i = 0; i < stars.length; i++) {
          const star = stars[i];
          star.distance += star.speed;
          star.x = width / 2 + Math.cos(star.angle) * star.distance;
          star.y = height / 2 + Math.sin(star.angle) * star.distance;

          // Reset if out of bounds
          if (star.x < -10 || star.x > width + 10 || star.y < -10 || star.y > height + 10) {
            star.x = width / 2;
            star.y = height / 2;
            star.distance = 0;
            star.angle = Math.random() * Math.PI * 2;
            star.speed = 0.4 + Math.random() * 1.8;
          }
        }
      }

      let rafId = null;
      function loop() {
        drawStars();
        scatterEffect();
        rafId = window.requestAnimationFrame(loop);
      }
      loop();

      // Debounced resize for comfort across clients
      let resizeTimer = null;
      window.addEventListener('resize', function () {
        if (rafId) window.cancelAnimationFrame(rafId);
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function () {
          sizeCanvas();
          initStars();
          loop();
        }, 120);
      }, { passive: true });

      // Cleanup on visibility change
      document.addEventListener('visibilitychange', function () {
        if (document.hidden && rafId) {
          window.cancelAnimationFrame(rafId);
          rafId = null;
        } else if (!document.hidden && !rafId) {
          loop();
        }
      });
    })();
  </script>
</body>
</html>
